---
layout: lesson
title: "Lesson Two: Terminal Multiplexers and Vim, a master class."
date: "3/12/2013"
subtitle: "By popular demand, the second tutorial will cover advanced usage of Vim and Terminal Multiplexing with tmux<br /> "
---

<center><img src="/TerminalWorkflows/img/mostinterestingterminal.jpg" height="300px" /></center><br /><br />
<h4>Introduction</h4><br /><br />
<p>tmux is a "terminal multiplexer", it enables a number of terminals (or windows) to be accessed and controlled from a single terminal. tmux is intended to be a simple, modern, BSD-licensed alternative to programs such as GNU screen.</p><br /><br />
<p>Vim is  a  text  editor that is upwards compatible to Vi.  It can be used to edit all kinds of plain text.  It is especially useful for editing programs. There are a lot of enhancements above Vi: multi level undo, multi windows and  buffers,  syntax highlighting,  command line editing, filename completion, on-line help, visual selection. There is no longer any point to using Viso we'll just restrict this presentation to Vim.</p>
<br /><br />
<h1>Tmux: The Oil</h4><br /><br />
<h4>Windows and Buffers</h4><br /><br />
<p><b> ` </b> - this is the command key. your default will be different but mine is set to the backtick</p><br />
<p><b> ` + c</b> - create new window</p><br />
<p><b> ` + x</b> - close current window</p><br />
<p><b> ` + 1-0</b> - change to windows 1 through 0</p><br />
<p><b> ` + (space) </b> - autoformat the windows</p><br />
<p><b> ` + t </b> - bring up the clock</p><br />
<h4>Detaching</h4><br /><br />
<p><b> ` + d </b> - detach session</p><br />
<p><b>tmux attach</b> - attaches the session</p><br />
<p>Easy way to facilitate pair programming on the same machine. SSH into their machine and then attach another session.</p>
<h4>Remote sesions</h4><br /><br />
<h4>.tmux.conf</h4><br /><br />
<p>Most important part of this tool is customizing it to your needs. <a href="https://github.com/JamesMeldrum/dotfiles/blob/master/.tmux.conf">Here's mine</a>, find as many as you can.</p>

<br />
<h1>Vim: The Vinegar</h1><br /><br/>
<h4>Modes and options</h4><br /><br />
<ul class="bulleted">
    <li>vim - default method for opening the editor </li>
    <li>view - start in read-only mode</li>
    <li>vimdiff - uses vim to diff two given files</li>
    <li>vim -x - encrypts your files using a provided crypt key</li>
  </ul>
<h4>Vim commands</h4><br /><br />
<p>To get autocompletion on commands (:e) press Ctrl-D</p>
<h4>Vim servers</h4><br /><br />
<p>Vim can run as a server using the --servername (name of server) directive.</p>
<h4>Vimrc color schemes</h4><br /><br />
<p>See 
https://github.com/flazz/vim-colorschemes and my vimrc for more</p>
<h4>Vimrc configuration </h4><br /><br />
<p>Most important part of this tool is customizing it to your needs. <a href="https://github.com/JamesMeldrum/dotfiles/blob/master/.vimrc">Here's mine</a>, find as many as you can.</p>
<h4>Vim folding </h4><br /><br />
TODO: Vim examples 
<ul class="bulleted">
    <li>vim can detect structured text and fold it accordingly.</li>
    <li>zfap - create a folder under the cursor using text object selection</li>
    <li>zo - open a fold</li>
    <li>zc - close a previously created fold</li>
  </ul>
<h4>Vim tags</h4><br /><br />
  <ul class="bulleted">
    <li>vim integrates with the ctags tool to create and parse any ctags files that you create to manage method signatures in external files </li>
  </ul>
<h4>Vim quickfix</h4><br /><br />
  <ul class="bulleted">
    <li>QuickFix utility provides edit-time error checking. Show jslint with quickfix. </li>
  </ul>
<h4>The Netrw File System Emulator</h4><br /><br />
<p><b> :E </b> - open the file view from Vim</p><br />
<p><b> v</b> - split window vertically and open file/folder</p><br />
<p>facilitates searching, sorting, window changing in new files. Don't use NerdTree for this.</p><br />
<h4>The Ex System Interpretor</h4><br /><br />
  <ul class="bulleted">
    <li>Vim key commands are implemented using the Ex System Interpreter. Accessing this directly can save you a lot of time in your workflow. Once you master its syntax you can do everything from writing one-liners to produce formatted reports that would take 40 lines in Python or Windows Forms to turning <a href="www.vimgolf.com/challenges/50ea3ca82bf6290002000040">JSON to XML</a></li>
  </ul>
  <ul class="bulleted">
    <li>gJ / :42,43J - join lines</li>
  </ul>
<h4>Vim macros</h4><br /><br />
<p><b>q + (key to assign macro to)</b> - start macro recording</p><br />
<p><b>q</b> - stop macro recording</p><br />
<p><b>(number)@(assigned macro key)</b> - will perform the macro assigned to (assigned macro key), (number) times </p><br />
<p><b>.</b> - not related to macros. will repeat the last performed action.</p><br />
<h4>Vim abbreviations</h4><br /><br />
<p>It's very common to make the same typing mistake every time.  For example,
typing "teh" instead of "the".  You can fix this with an abbreviation: <br />
<br/>        :abbreviate teh the<br/><br/>You can add a whole list of these.  Add one each time you discover a common<br/>mistake.<br/><br/><br/>LISTING ABBREVIATIONS<br/><br/>The ":abbreviate" command lists the abbreviations:<br/><br/>        :abbreviate<br/>        i  #e             ****************************************/<br/>        i  #b            /****************************************<br/>        i  JB            Jack Benny<br/>        i  ad            advertisement<br/>        !  teh           the<br/><br/>The "i" in the first column indicates Insert mode.  These abbreviations are<br/>only active in Insert mode.  Other possible characters are:<br/><br/>        c       Command-line mode                       :cabbrev<br/>        !       both Insert and Command-line mode       :abbreviate<br/><br/>Since abbreviations are not often useful in Command-line mode, you will mostly<br/>use the ":iabbrev" command.  That avoids, for example, that "ad" gets expanded<br/>when typing a command like: ><br/><br/>        :edit ad<br/><br/><br/>DELETING ABBREVIATIONS<br/><br/>To get rid of an abbreviation, use the ":unabbreviate" command.  Suppose you<br/>have the following abbreviation: ><br/><br/>        :abbreviate @f fresh<br/><br/>You can remove it with this command: ><br/><br/>:unabbreviate @f
</p>
<h4>Set paste to paste mode, set modifiable, the w!! shortcut</h4><br /><br />
<p>to make pasting to the screen possible from a windowed browser, use :set paste</p>
<p>sometimes a bin will request a lock on a file. to save :set modifiable</p>
<p>w!! - w !sudo tee % </p>
<h4>Vim plugins</h4><br /><br />
<a href="https://github.com/tpope/vim-pathogen">Pathogen</a>
<a href="https://github.com/wincent/Command-T">Command T</a>
<a href="https://github.com/vim-scripts/DrawIt">DrawIt</a>
<a href="https://github.com/kevinw/pyflakes">PyFlakes</a>
<a href="https://github.com/tristen/vim-sparkup">SparkUp</a>
<h4>Further Reading</h4><br /><br />
<p>http://stackoverflow.com/questions/164847/what-is-in-your-vimrc</p>
<p>http://stackoverflow.com/questions/74625/what-is-the-best-way-to-force-yourself-to-master-vi?lq=1</p>
<br />
<br />
